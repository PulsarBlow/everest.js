/*!
 * Everest JS - A REST Api client for the browser.
 * Version, see : everest.system.version
 * http://github.com/PulsarBlow/everest.js
 */
!function(root,factory){"function"==typeof define&&define.amd?define(["jquery"],factory):(root.Ãª=factory(root.$),root.everest=factory(root.$))}(this,function($){/**
 * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */
var requirejs,require,define;return function(undef){function hasProp(obj,prop){return hasOwn.call(obj,prop)}function normalize(name,baseName){var nameParts,nameSegment,mapValue,foundMap,lastIndex,foundI,foundStarMap,starI,i,j,part,baseParts=baseName&&baseName.split("/"),map=config.map,starMap=map&&map["*"]||{};if(name&&"."===name.charAt(0))if(baseName){for(baseParts=baseParts.slice(0,baseParts.length-1),name=name.split("/"),lastIndex=name.length-1,config.nodeIdCompat&&jsSuffixRegExp.test(name[lastIndex])&&(name[lastIndex]=name[lastIndex].replace(jsSuffixRegExp,"")),name=baseParts.concat(name),i=0;i<name.length;i+=1)if(part=name[i],"."===part)name.splice(i,1),i-=1;else if(".."===part){if(1===i&&(".."===name[2]||".."===name[0]))break;i>0&&(name.splice(i-1,2),i-=2)}name=name.join("/")}else 0===name.indexOf("./")&&(name=name.substring(2));if((baseParts||starMap)&&map){for(nameParts=name.split("/"),i=nameParts.length;i>0;i-=1){if(nameSegment=nameParts.slice(0,i).join("/"),baseParts)for(j=baseParts.length;j>0;j-=1)if(mapValue=map[baseParts.slice(0,j).join("/")],mapValue&&(mapValue=mapValue[nameSegment])){foundMap=mapValue,foundI=i;break}if(foundMap)break;!foundStarMap&&starMap&&starMap[nameSegment]&&(foundStarMap=starMap[nameSegment],starI=i)}!foundMap&&foundStarMap&&(foundMap=foundStarMap,foundI=starI),foundMap&&(nameParts.splice(0,foundI,foundMap),name=nameParts.join("/"))}return name}function makeRequire(relName,forceSync){return function(){return req.apply(undef,aps.call(arguments,0).concat([relName,forceSync]))}}function makeNormalize(relName){return function(name){return normalize(name,relName)}}function makeLoad(depName){return function(value){defined[depName]=value}}function callDep(name){if(hasProp(waiting,name)){var args=waiting[name];delete waiting[name],defining[name]=!0,main.apply(undef,args)}if(!hasProp(defined,name)&&!hasProp(defining,name))throw new Error("No "+name);return defined[name]}function splitPrefix(name){var prefix,index=name?name.indexOf("!"):-1;return index>-1&&(prefix=name.substring(0,index),name=name.substring(index+1,name.length)),[prefix,name]}function makeConfig(name){return function(){return config&&config.config&&config.config[name]||{}}}var main,req,makeMap,handlers,defined={},waiting={},config={},defining={},hasOwn=Object.prototype.hasOwnProperty,aps=[].slice,jsSuffixRegExp=/\.js$/;makeMap=function(name,relName){var plugin,parts=splitPrefix(name),prefix=parts[0];return name=parts[1],prefix&&(prefix=normalize(prefix,relName),plugin=callDep(prefix)),prefix?name=plugin&&plugin.normalize?plugin.normalize(name,makeNormalize(relName)):normalize(name,relName):(name=normalize(name,relName),parts=splitPrefix(name),prefix=parts[0],name=parts[1],prefix&&(plugin=callDep(prefix))),{f:prefix?prefix+"!"+name:name,n:name,pr:prefix,p:plugin}},handlers={require:function(name){return makeRequire(name)},exports:function(name){var e=defined[name];return"undefined"!=typeof e?e:defined[name]={}},module:function(name){return{id:name,uri:"",exports:defined[name],config:makeConfig(name)}}},main=function(name,deps,callback,relName){var cjsModule,depName,ret,map,i,usingExports,args=[],callbackType=typeof callback;if(relName=relName||name,"undefined"===callbackType||"function"===callbackType){for(deps=!deps.length&&callback.length?["require","exports","module"]:deps,i=0;i<deps.length;i+=1)if(map=makeMap(deps[i],relName),depName=map.f,"require"===depName)args[i]=handlers.require(name);else if("exports"===depName)args[i]=handlers.exports(name),usingExports=!0;else if("module"===depName)cjsModule=args[i]=handlers.module(name);else if(hasProp(defined,depName)||hasProp(waiting,depName)||hasProp(defining,depName))args[i]=callDep(depName);else{if(!map.p)throw new Error(name+" missing "+depName);map.p.load(map.n,makeRequire(relName,!0),makeLoad(depName),{}),args[i]=defined[depName]}ret=callback?callback.apply(defined[name],args):void 0,name&&(cjsModule&&cjsModule.exports!==undef&&cjsModule.exports!==defined[name]?defined[name]=cjsModule.exports:ret===undef&&usingExports||(defined[name]=ret))}else name&&(defined[name]=callback)},requirejs=require=req=function(deps,callback,relName,forceSync,alt){if("string"==typeof deps)return handlers[deps]?handlers[deps](callback):callDep(makeMap(deps,callback).f);if(!deps.splice){if(config=deps,config.deps&&req(config.deps,config.callback),!callback)return;callback.splice?(deps=callback,callback=relName,relName=null):deps=undef}return callback=callback||function(){},"function"==typeof relName&&(relName=forceSync,forceSync=alt),forceSync?main(undef,deps,callback,relName):setTimeout(function(){main(undef,deps,callback,relName)},4),req},req.config=function(cfg){return req(cfg)},requirejs._defined=defined,define=function(name,deps,callback){deps.splice||(callback=deps,deps=[]),hasProp(defined,name)||hasProp(waiting,name)||(waiting[name]=[name,deps,callback])},define.amd={jQuery:!0}}(),define("almond",function(){}),define("everest/constants",[],function(){var constants={UUID_EMPTY:"00000000-0000-0000-0000-000000000000",protocols:{HTTP:"http:",HTTPS:"https:"},dataFormats:{JSON:"json",FORM:"form",XML:"xml",ATOM:"atom"},dataEncodings:{UTF8:"utf-8"},http:{headers:{AUTHORIZATION:"Authorization",CONTENT_MD5:"Content-MD5",CONTENT_TYPE:"Content-Type",CACHE_CONTROL:"Cache-Control",DATE:"Date",ETAG:"ETag",USER_AGENT:"User-Agent",ACCEPT:"Accept",ACCEPT_CHARSET:"Accept-Charset",HOST:"Host",RANGE:"Range"},verbs:{GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",HEAD:"HEAD",MERGE:"MERGE",PATCH:"PATCH"},statusCodes:{OK:200,CREATED:201,ACCEPTED:202,NO_CONTENT:204,PARTIAL_CONTENT:206,BAD_REQUEST:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,CONFLICT:409,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412},contentTypes:{TEXT:"text/plain",HTML:"text/html",XML:"application/xml",FORM:"application/x-www-form-urlencoded",ATOM:"application/atom+xml",JSON:"application/json"},charsets:{UTF8:"utf-8"},cacheControls:{NO_CACHE:"no-cache",INVALIDATE:"max-age=0",NO_STORE:"no-store"}},everest:{environments:{DEBUG:"DEBUG",RELEASE:"RELEASE"},USERAGENT_HEADER:"X-Alt-User-Agent",USERAGENT_HEADER_FORMAT:"Everest.js/? (+https://github.com/PulsarBlow/everest.js)"}};return constants}),define("everest/system",["jquery","everest/constants"],function($,constants){function escapeRegExp(string){return string.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function encodeUri(uri){return encodeURIComponent(uri).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")}function isNumeric(value){return"number"==typeof value&&isFinite(value)}function isNull(value){return null===value}function isUndefined(value){return void 0===value}function isUndefinedOrNull(value){return isNull(value)||isUndefined(value)}function isEmpty(value){if(isUndefinedOrNull(value))return!0;if(isArray(value)||isString(value))return 0===value.length;if(isObject(value)){for(var key in value)if(value.hasOwnProperty(key))return!1;return!0}return!1}function isObject(value){return value===Object(value)}function isArray(value){return"[object Array]"===toString.call(value)}function isInt(value){return"number"==typeof value&&parseFloat(value)==parseInt(value,10)&&!isNaN(value)}function isBoolean(value){return isUndefinedOrNull(value)?!1:value===!0||value===!1||"[object Boolean]"===toString.call(value)}function isString(value){return isUndefinedOrNull(value)?!1:"[object String]"===toString.call(value)}function isFunction(value){return isUndefinedOrNull(value)?!1:"function"==typeof value}function objectKeysLength(value){return isUndefinedOrNull(value)||!isObject(value)?0:Object.keys(value).length}function objectFirstKey(value){return!isUndefinedOrNull(value)&&isObject(value)&&Object.keys(value).length>0?Object.keys(value)[0]:null}function stringIsEmpty(value){return""===value}function stringFormat(text){if(arguments.length>1)for(var i=0;-1!==text.indexOf("?");i++){var value=arguments[i+1];text=text.replace("?",isUndefinedOrNull(value)?"":value)}return text}function stringTrimStart(text,pattern){if(isEmpty(text)||isEmpty(pattern))return text;var esc=escapeRegExp(pattern),reg=new RegExp(esc?"^"+esc+"+":"^\\s+");return text.replace(reg,"")}function stringTrimEnd(text,pattern){if(isEmpty(text)||isEmpty(pattern))return text;var esc=escapeRegExp(pattern),reg=new RegExp(esc?esc+"+$":"\\s+$");return text.replace(reg,"")}function stringTrim(text,pattern){if(isEmpty(text)||isEmpty(pattern))return text;var esc=escapeRegExp(pattern),reg=esc?new RegExp("^"+esc+"+|"+esc+"+$","g"):new RegExp("^\\s+|\\s+$","g");return text.replace(reg,"")}function stringStartsWith(text,prefix){return isEmpty(prefix)?!0:text.substr(0,prefix.length)===prefix}function stringEndsWith(text,suffix){return isEmpty(suffix)?!0:text.substr(text.length-suffix.length)===suffix}function stringContains(value,pattern){return isEmpty(value)||isEmpty(pattern)?!1:-1!==value.indexOf(pattern)}function serialize(obj,indent){return indent||(indent=4),JSON.stringify(obj,null,indent)}var version="1.1.1-alpha",environment=constants.everest.environments.RELEASE,uuid={newUuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=16*Math.random()|0,v="x"===c?r:3&r|8;return v.toString(16)})},isUuid:function(value){var reg=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return reg.test(value)||value===constants.UUID_EMPTY},empty:constants.UUID_EMPTY},system={environment:environment,version:version,noop:function(){},deferred:function(){return $.Deferred()},uuid:uuid,guard:{argumentNotNull:function(argValue,argName){if(isUndefinedOrNull(argValue))throw new Error(stringFormat("ArgumentNull exception : ? is null",argName))},argumentNotNullOrEmpty:function(argValue,argName){var message=stringFormat("ArgumentNull exception : ? is null or empty",argName);if(isUndefinedOrNull(argValue))throw new Error(message);if(isObject(argValue)&&isEmpty(argValue))throw new Error(message);if(isString(argValue)&&stringIsEmpty(argValue))throw new Error(message)},argumentIsNumeric:function(argValue,argName){if(!isNumeric(argValue))throw new Error(stringFormat("Argument exception : ? is not a number",argName))},argumentIsNumericOrUndefined:function(argValue,argName){if(!isUndefined(argValue)&&!isNumeric(argValue))throw new Error(stringFormat("Argument exception : ? is not an optional number",argName))},argumentIsFunction:function(argValue,argName){if(!isFunction(argValue))throw new Error(stringFormat("Argument exception : ? is not a function",argName))},argumentIsDefined:function(argValue,argName){if(isUndefined(argValue))throw new Error(stringFormat("Argument exception : ? is undefined",argName))}},isNumeric:isNumeric,isNull:isNull,isUndefined:isUndefined,isUndefinedOrNull:isUndefinedOrNull,isEmpty:isEmpty,isObject:isObject,isArray:isArray,isInt:isInt,isBoolean:isBoolean,isString:isString,isFunction:isFunction,encodeUri:encodeUri,objectKeysLength:objectKeysLength,objectFirstKey:objectFirstKey,stringIsEmpty:stringIsEmpty,stringFormat:stringFormat,stringTrimStart:stringTrimStart,stringTrimEnd:stringTrimEnd,stringTrim:stringTrim,stringStartsWith:stringStartsWith,stringEndsWith:stringEndsWith,stringContains:stringContains,serialize:serialize,isDebug:function(){return environment===constants.everest.environments.DEBUG}};return system}),define("everest/url",[],function(){function URL(uri){for(var that=this,matches=uriParser.exec(uri),i=keys.length;i--;)that[keys[i]]=matches[i]||"";that.params={};var query=that.search?that.search.substring(that.search.indexOf("?")+1):"";query.replace(queryParser,function($0,$1,$2){$1&&(that.params[$1]=$2)}),that.url=uri}var queryParser=/(?:^|&)([^&=]*)=?([^&]*)/g,uriParser=/^(?:(?:(([^:\/#\?]+:)?(?:(?:\/\/)(?:(?:(?:([^:@\/#\?]+)(?:\:([^:@\/#\?]*))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((?:\/?(?:[^\/\?#]+\/+)*)(?:[^\?#]*)))?(\?[^#]+)?)(#.*)?/,keys=["href","origin","protocol","username","password","host","hostname","port","pathname","search","hash"];return URL.prototype.toString=function(){return this.url},URL}),define("everest/httpclient",["jquery","everest/constants","everest/system","everest/url"],function($,constants,system,URL){function toJSON(obj){return JSON.stringify(obj?obj:{})}function formatData(data){return toJSON(data)}function formatHeaders(headers){return headers?headers:{}}function formatContentType(contentType,charset){return system.stringFormat("?; charset=?",contentType,charset)}function formatUrl(uri,strictSSL){if(!strictSSL)return uri;var url=new URL(uri);return url.protocol=constants.protocols.HTTPS,url.toString()}function createHeadersFromConfiguration(configuration,existingHeaders){return configuration||existingHeaders?configuration?(existingHeaders||(existingHeaders=formatHeaders(existingHeaders)),configuration.accept&&(existingHeaders[httpHeaders.ACCEPT]=configuration.accept),configuration.acceptCharset,configuration.contentType&&(existingHeaders[httpHeaders.CONTENT_TYPE]=formatContentType(configuration.contentType,configuration.contentTypeCharset)),configuration.cache===!1&&(existingHeaders[httpHeaders.CACHE_CONTROL]=constants.http.cacheControls.NO_CACHE),existingHeaders):existingHeaders:{}}function HttpClient(configuration){this._query={},this._headers={},this._configuration=$.extend({},defaultConfiguration,configuration)}var httpHeaders=constants.http.headers,httpVerbs=constants.http.verbs,httpContentTypes=constants.http.contentTypes,httpCharsets=constants.http.charsets,defaultConfiguration={accept:httpContentTypes.JSON,acceptCharset:httpCharsets.UTF8,contentType:httpContentTypes.JSON,contentTypeCharset:httpCharsets.UTF8,cache:!0,strictSSL:!1};return HttpClient.prototype.withQueryStringParam=function(name,value){return system.isEmpty(name)?this:(this._query||(this._query={}),this._query[name]=value,this)},HttpClient.prototype.withQueryStringParams=function(params){return system.isEmpty(params)?this:(this._query||(this._query={}),this._query=$.extend({},this._query,params),this)},HttpClient.prototype.withHeader=function(name,value){return system.isEmpty(name)?this:(this._headers||(this._headers={}),this._headers[name]=value,this)},HttpClient.prototype.withHeaders=function(headers){return system.isEmpty(headers)?this:(this._headers||(this._headers={}),this._headers=$.extend({},this._headers,headers),this)},HttpClient.prototype.get=function(url,query,headers){return HttpClient.get(formatUrl(url,this._configuration.strictSSL),$.extend({},this._query,query),$.extend({},this._headers,createHeadersFromConfiguration(this._configuration,headers)))},HttpClient.prototype.post=function(url,body,headers){return HttpClient.post(formatUrl(url,this._configuration.strictSSL),body,$.extend({},this._headers,createHeadersFromConfiguration(this._configuration,headers)))},HttpClient.prototype.put=function(url,body,headers){return HttpClient.put(formatUrl(url,this._configuration.strictSSL),body,$.extend({},this._headers,createHeadersFromConfiguration(this._configuration,headers)))},HttpClient.prototype.patch=function(url,body,headers){return HttpClient.patch(formatUrl(url,this._configuration.strictSSL),body,$.extend({},this._headers,createHeadersFromConfiguration(this._configuration,headers)))},HttpClient.prototype.del=function(url,query,headers){return HttpClient.del(formatUrl(url,this._configuration.strictSSL),$.extend({},this._query,query),$.extend({},this._headers,createHeadersFromConfiguration(this._configuration,headers)))},HttpClient.get=function(url,query,headers){return $.ajax(url,{data:query,headers:formatHeaders(headers)}).always(function(){})},HttpClient.post=function(url,body,headers){return $.ajax({url:url,data:formatData(body),type:httpVerbs.POST,contentType:httpContentTypes.JSON,dataType:"json",headers:formatHeaders(headers)}).always(function(){})},HttpClient.put=function(url,body,headers){return $.ajax({url:url,data:formatData(body),type:httpVerbs.PUT,contentType:httpContentTypes.JSON,dataType:"json",headers:formatHeaders(headers)}).always(function(){})},HttpClient.del=function(url,query,headers){return $.ajax({url:url,data:query,type:httpVerbs.DELETE,contentType:httpContentTypes.JSON,dataType:"json",headers:formatHeaders(headers)}).always(function(){})},HttpClient.patch=function(url,body,headers){return $.ajax({url:url,data:formatData(body),type:httpVerbs.PATCH,contentType:httpContentTypes.JSON,dataType:"json",headers:formatHeaders(headers)}).always(function(){})},HttpClient}),define("everest/restclient",["jquery","everest/constants","everest/system","everest/url","everest/httpclient"],function($,constants,system,URL,HttpClient){function createClientConfiguration(restClientConfiguration){if(!restClientConfiguration)return{};var httpServiceConfiguration={};return restClientConfiguration.dataFormat&&(httpServiceConfiguration.accept=httpServiceConfiguration.contentType=dataFormatToHttpContentType(restClientConfiguration.dataFormat)),restClientConfiguration.dataEncoding&&(httpServiceConfiguration.acceptCharset=httpServiceConfiguration.contentTypeCharset=dataEncodingToHttpCharset(restClientConfiguration.dataEncoding)),restClientConfiguration.useCache===!0&&(httpServiceConfiguration.cache=!0),restClientConfiguration.useSSL===!0&&(httpServiceConfiguration.strictSSL=!0),httpServiceConfiguration}function dataFormatToHttpContentType(dataFormat){if(system.isEmpty(dataFormat))return httpContentTypes.JSON;switch(dataFormat.toLowerCase()){case dataFormats.XML:return httpContentTypes.XML;case dataFormats.ATOM:return httpContentTypes.ATOM;case dataFormats.FORM:return httpContentTypes.FORM;default:return httpContentTypes.JSON}}function dataEncodingToHttpCharset(){return httpCharsets.UTF8}function createBaseUrl(host,useSSL){return system.isEmpty(host)||system.stringContains(host,"http://")||system.stringContains(host,"https://")?host:system.stringFormat("??",useSSL?"https://":"http://",system.stringTrim(host,"/"))}function createResourceUrl(baseUrl,path){return system.isEmpty(baseUrl)||system.isEmpty(path)?baseUrl:system.stringFormat("?/?",system.stringTrimEnd(baseUrl,"/"),system.stringTrimStart(path,"/"))}function validateConfiguration(configuration){system.isDebug()||system.isEmpty(configuration)||(!system.isObject(configuration),Object.keys(configuration).forEach(function(element){system.isUndefined(defaultConfiguration[element])}))}function RestClient(configuration){this._initialize(configuration)}var httpContentTypes=constants.http.contentTypes,httpCharsets=constants.http.charsets,dataFormats=constants.dataFormats,defaultConfiguration=(constants.dataEncodings,{host:"",dataFormat:dataFormats.JSON,dataEncoding:constants.http.charsets.UTF8,useCache:!0,useSSL:!1});return RestClient.prototype.read=function(path,query){return this._httpClient.get(createResourceUrl(createBaseUrl(this._configuration.host,this._configuration.useSSL),path),query)},RestClient.prototype.create=function(path,data){return this._httpClient.post(createResourceUrl(createBaseUrl(this._configuration.host,this._configuration.useSSL),path),data)},RestClient.prototype.update=function(path,data){return this._httpClient.put(createResourceUrl(createBaseUrl(this._configuration.host,this._configuration.useSSL),path),data)},RestClient.prototype.remove=function(path,query){return this._httpClient.del(createResourceUrl(createBaseUrl(this._configuration.host,this._configuration.useSSL),path),query)},RestClient.prototype.partialUpdate=function(path,data){return this._httpClient.patch(createResourceUrl(createBaseUrl(this._configuration.host,this._configuration.useSSL),path),data)},RestClient.prototype.setConfiguration=function(configuration){return validateConfiguration(configuration),this._configuration=$.extend({},defaultConfiguration,this._configuration,configuration),this},RestClient.prototype.getConfiguration=function(){return this._configuration},RestClient.prototype.withQueryStringParam=function(name,value){return this._httpClient.withQueryStringParam(name,value),this},RestClient.prototype.withQueryStringParams=function(params){return this._httpClient.withQueryStringParams(params),this},RestClient.prototype.withHeader=function(name,value){return this._httpClient.withHeader(name,value),this},RestClient.prototype.withHeaders=function(headers){return this._httpClient.withHeaders(headers),this},RestClient.prototype._initialize=function(configuration){this.setConfiguration(configuration),this._httpClient=new HttpClient(createClientConfiguration(this._configuration))},RestClient}),define("everest",["require","jquery","everest/constants","everest/system","everest/url","everest/httpclient","everest/restclient"],function(require){var constants=(require("jquery"),require("everest/constants")),system=require("everest/system"),URL=require("everest/url"),HttpClient=require("everest/httpclient"),RestClient=require("everest/restclient");return{constants:constants,system:system,URL:URL,HttpClient:HttpClient,RestClient:RestClient,createRestClient:function(configuration){return new RestClient(configuration)},createHttpClient:function(configuration){return new HttpClient(configuration)}}}),define("jquery",function(){return $}),require("everest")});